const _0x6fef71=_0x415f;function _0x3414(){const _0x57263d=['217gyrsRe','5834032GADSpc','subscriptions','customer','hidden','API\x20Key\x20is\x20required.','getElementById','from','error-subscribers','Selected\x20subscriptions\x20have\x20been\x20successfully\x20canceled.\x20ðŸŽ‰','products','shiftKey','Fetching\x20subscribers...','Failed\x20to\x20fetch\x20price\x20data.','forEach','loadingSubscribers','checked','\x20input[type=\x22checkbox\x22]','Invalid\x20API\x20Key\x20or\x20insufficient\x20permissions.','length','input','Bearer\x20','value','click','Failed\x20to\x20fetch\x20customer\x20data.','tagName','message','querySelectorAll','validating-api','type','14346UnnCZJ','subscribersList','Failed\x20to\x20fetch\x20subscribers.','No\x20subscribers\x20found.','apiKey','selectAllSubscribers','7320105OotAtN','1610038OwojCp','items','toFixed','includes','6yOcrfp','validateKey','DELETE','productsList','At\x20least\x20one\x20subscriber\x20must\x20be\x20selected.','58472740TEuWNw','1464303NMFtis','toUpperCase','https://api.stripe.com/v1/products','target','https://api.stripe.com/v1/subscriptions?status=active','product','json','map','classList','No\x20products\x20found.','error-api','#subscribersList\x20input[type=\x22checkbox\x22]:checked','success-message','https://api.stripe.com/v1/prices/','every','selectAllProducts','#productsList\x20input[type=\x22checkbox\x22]','&nbsp;&nbsp;&nbsp;','loadingProducts','checkbox','nickname','subscribersSelection','addEventListener','price','textContent','error-products','Cancelling\x20subscriptions...','fetchSubscribers','name','innerHTML','charAt','166008AhmAYE','join','error','Error\x20fetching\x20subscribers:','subscribersSection','unit_amount','Error\x20canceling\x20subscriptions:','appendChild','createElement','data','#subscribersList\x20input[type=\x22checkbox\x22]','label','remove','Failed\x20to\x20cancel\x20subscription\x20with\x20ID:\x20','add','\x20|\x20','Deselect\x20All','slice','push','968XnSiov','productsSection'];_0x3414=function(){return _0x57263d;};return _0x3414();}function _0x415f(_0x2ae23b,_0x324e45){const _0x34143b=_0x3414();return _0x415f=function(_0x415f23,_0x6df110){_0x415f23=_0x415f23-0xa7;let _0x52820e=_0x34143b[_0x415f23];return _0x52820e;},_0x415f(_0x2ae23b,_0x324e45);}(function(_0x8a2c21,_0x1ad937){const _0x2f4d35=_0x415f,_0x3bb18a=_0x8a2c21();while(!![]){try{const _0xc6fd78=parseInt(_0x2f4d35(0xdb))/0x1+-parseInt(_0x2f4d35(0xd1))/0x2*(-parseInt(_0x2f4d35(0xd5))/0x3)+parseInt(_0x2f4d35(0xad))/0x4+parseInt(_0x2f4d35(0xd0))/0x5+parseInt(_0x2f4d35(0xfa))/0x6*(parseInt(_0x2f4d35(0xac))/0x7)+-parseInt(_0x2f4d35(0xaa))/0x8*(parseInt(_0x2f4d35(0xca))/0x9)+-parseInt(_0x2f4d35(0xda))/0xa;if(_0xc6fd78===_0x1ad937)break;else _0x3bb18a['push'](_0x3bb18a['shift']());}catch(_0x1c6cd5){_0x3bb18a['push'](_0x3bb18a['shift']());}}}(_0x3414,0xc6d5e));async function checkPermissions(_0x3b79ff){const _0x18df3a=_0x415f,_0x4294ca=[_0x18df3a(0xb6),'prices','customers',_0x18df3a(0xae)],_0xf09400=[];for(const _0x42d7fc of _0x4294ca){const _0x277100=await fetch('https://api.stripe.com/v1/'+_0x42d7fc,{'headers':{'Authorization':_0x18df3a(0xc1)+_0x3b79ff}});!_0x277100['ok']&&_0xf09400[_0x18df3a(0xa9)](_0x42d7fc);}return _0xf09400;}document[_0x6fef71(0xb2)](_0x6fef71(0xd6))['addEventListener'](_0x6fef71(0xc3),async()=>{const _0x4105a3=_0x6fef71,_0x5ef780=document[_0x4105a3(0xb2)](_0x4105a3(0xce))['value'],_0xe8d4d3=document[_0x4105a3(0xb2)](_0x4105a3(0xe5)),_0x84ad5a=document[_0x4105a3(0xb2)](_0x4105a3(0xc8));if(!_0x5ef780){_0xe8d4d3[_0x4105a3(0xf3)]=_0x4105a3(0xb1),_0xe8d4d3[_0x4105a3(0xe3)][_0x4105a3(0x106)]('hidden');return;}_0xe8d4d3[_0x4105a3(0xe3)][_0x4105a3(0x108)](_0x4105a3(0xb0)),_0x84ad5a[_0x4105a3(0xe3)][_0x4105a3(0x106)]('hidden');const _0x4ec0e7=await checkPermissions(_0x5ef780);_0x84ad5a[_0x4105a3(0xe3)][_0x4105a3(0x108)](_0x4105a3(0xb0));if(_0x4ec0e7[_0x4105a3(0xbf)]>0x0){_0xe8d4d3[_0x4105a3(0xf3)]='Invalid\x20API\x20Key\x20or\x20insufficient\x20permissions.\x20Missing\x20permissions:\x20'+_0x4ec0e7[_0x4105a3(0xe2)](_0x5a2e9d=>_0x5a2e9d[_0x4105a3(0xf9)](0x0)[_0x4105a3(0xdc)]()+_0x5a2e9d[_0x4105a3(0xa8)](0x1))[_0x4105a3(0xfb)](',\x20'),_0xe8d4d3['classList'][_0x4105a3(0x106)](_0x4105a3(0xb0));return;}const _0x101d7a=document[_0x4105a3(0xb2)](_0x4105a3(0xab)),_0x58e1dc=document[_0x4105a3(0xb2)](_0x4105a3(0xfe)),_0x2ed4a1=document[_0x4105a3(0xb2)]('productsSelection'),_0x20385d=document[_0x4105a3(0xb2)](_0x4105a3(0xd8)),_0x38978a=document[_0x4105a3(0xb2)](_0x4105a3(0xf4)),_0x138329=document[_0x4105a3(0xb2)](_0x4105a3(0xed));_0x101d7a['classList'][_0x4105a3(0x108)]('hidden'),_0x58e1dc[_0x4105a3(0xe3)]['add']('hidden'),_0x2ed4a1['classList']['add']('hidden'),_0x20385d[_0x4105a3(0xf8)]='',_0x38978a['classList'][_0x4105a3(0x108)]('hidden'),_0x138329[_0x4105a3(0xe3)][_0x4105a3(0x108)](_0x4105a3(0xb0));try{_0x101d7a[_0x4105a3(0xe3)][_0x4105a3(0x106)](_0x4105a3(0xb0)),_0x138329['classList']['remove'](_0x4105a3(0xb0));const _0x430d8f=await fetch(_0x4105a3(0xdd),{'headers':{'Authorization':_0x4105a3(0xc1)+_0x5ef780}});if(!_0x430d8f['ok'])throw new Error(_0x4105a3(0xbe));const _0x4f2875=await _0x430d8f['json']();_0x4f2875[_0x4105a3(0x103)][_0x4105a3(0xbf)]===0x0?(_0x138329[_0x4105a3(0xe3)]['add'](_0x4105a3(0xb0)),_0x101d7a['classList']['remove']('hidden'),_0x38978a[_0x4105a3(0xf3)]=_0x4105a3(0xe4),_0x38978a['classList']['remove']('hidden')):(_0x4f2875[_0x4105a3(0x103)]['forEach'](_0x310972=>{const _0x5b6581=_0x4105a3,_0x53950e=document[_0x5b6581(0x102)]('li'),_0xa281ff=document['createElement'](_0x5b6581(0x105)),_0x3af738=document['createElement'](_0x5b6581(0xc0));_0x3af738[_0x5b6581(0xc9)]=_0x5b6581(0xee),_0x3af738[_0x5b6581(0xc2)]=_0x310972['id'],_0xa281ff[_0x5b6581(0x101)](_0x3af738),_0xa281ff[_0x5b6581(0xf8)]+=_0x5b6581(0xec)+_0x310972[_0x5b6581(0xf7)],_0x53950e[_0x5b6581(0x101)](_0xa281ff),_0x20385d[_0x5b6581(0x101)](_0x53950e);}),_0x138329['classList'][_0x4105a3(0x108)]('hidden'),_0x101d7a[_0x4105a3(0xe3)][_0x4105a3(0x106)](_0x4105a3(0xb0)),_0x2ed4a1['classList'][_0x4105a3(0x106)]('hidden'));}catch(_0x169de6){_0x138329[_0x4105a3(0xe3)][_0x4105a3(0x108)]('hidden'),_0xe8d4d3[_0x4105a3(0xf3)]=_0x169de6[_0x4105a3(0xc6)],_0xe8d4d3[_0x4105a3(0xe3)][_0x4105a3(0x106)]('hidden');}});let lastCheckedProduct=null,lastCheckedSubscriber=null;document[_0x6fef71(0xb2)](_0x6fef71(0xd8))[_0x6fef71(0xf1)](_0x6fef71(0xc3),_0x3ddaf2=>{const _0x85ca08=_0x6fef71;if(_0x3ddaf2[_0x85ca08(0xde)]['tagName']==='INPUT'&&_0x3ddaf2[_0x85ca08(0xde)][_0x85ca08(0xc9)]===_0x85ca08(0xee)){const _0x515023=document[_0x85ca08(0xc7)](_0x85ca08(0xeb));if(_0x3ddaf2[_0x85ca08(0xb7)]&&lastCheckedProduct){let _0x209765=![];_0x515023[_0x85ca08(0xba)](_0x5b1582=>{const _0x43317d=_0x85ca08;(_0x5b1582===_0x3ddaf2[_0x43317d(0xde)]||_0x5b1582===lastCheckedProduct)&&(_0x209765=!_0x209765),_0x209765&&(_0x5b1582[_0x43317d(0xbc)]=lastCheckedProduct[_0x43317d(0xbc)]);});}lastCheckedProduct=_0x3ddaf2[_0x85ca08(0xde)],updateSelectAllButton(_0x85ca08(0xd8),_0x85ca08(0xea));}}),document['getElementById']('subscribersList')[_0x6fef71(0xf1)](_0x6fef71(0xc3),_0x270b19=>{const _0x4b7be8=_0x6fef71;if(_0x270b19[_0x4b7be8(0xde)][_0x4b7be8(0xc5)]==='INPUT'&&_0x270b19[_0x4b7be8(0xde)][_0x4b7be8(0xc9)]===_0x4b7be8(0xee)){const _0x525a06=document['querySelectorAll'](_0x4b7be8(0x104));if(_0x270b19['shiftKey']&&lastCheckedSubscriber){let _0x4fd451=![];_0x525a06[_0x4b7be8(0xba)](_0x1740c9=>{const _0x283e75=_0x4b7be8;(_0x1740c9===_0x270b19['target']||_0x1740c9===lastCheckedSubscriber)&&(_0x4fd451=!_0x4fd451),_0x4fd451&&(_0x1740c9[_0x283e75(0xbc)]=lastCheckedSubscriber[_0x283e75(0xbc)]);});}lastCheckedSubscriber=_0x270b19[_0x4b7be8(0xde)],updateSelectAllButton(_0x4b7be8(0xcb),_0x4b7be8(0xcf));}}),document[_0x6fef71(0xb2)](_0x6fef71(0xea))[_0x6fef71(0xf1)](_0x6fef71(0xc3),()=>{const _0x576f46=_0x6fef71,_0x2f829f=document['querySelectorAll'](_0x576f46(0xeb)),_0x1f5af8=Array[_0x576f46(0xb3)](_0x2f829f)[_0x576f46(0xe9)](_0x5119ed=>_0x5119ed[_0x576f46(0xbc)]);_0x2f829f[_0x576f46(0xba)](_0x46b90d=>_0x46b90d[_0x576f46(0xbc)]=!_0x1f5af8),updateSelectAllButton(_0x576f46(0xd8),_0x576f46(0xea));}),document['getElementById']('selectAllSubscribers')[_0x6fef71(0xf1)](_0x6fef71(0xc3),()=>{const _0x4adbe3=_0x6fef71,_0x264d25=document[_0x4adbe3(0xc7)](_0x4adbe3(0x104)),_0x180d34=Array[_0x4adbe3(0xb3)](_0x264d25)[_0x4adbe3(0xe9)](_0x475c85=>_0x475c85[_0x4adbe3(0xbc)]);_0x264d25[_0x4adbe3(0xba)](_0x24adc8=>_0x24adc8[_0x4adbe3(0xbc)]=!_0x180d34),updateSelectAllButton(_0x4adbe3(0xcb),_0x4adbe3(0xcf));});function updateSelectAllButton(_0x2e97eb,_0x3e079b){const _0x2ecce0=_0x6fef71,_0x57cc37=document['querySelectorAll']('#'+_0x2e97eb+_0x2ecce0(0xbd)),_0x38b069=Array[_0x2ecce0(0xb3)](_0x57cc37)['every'](_0x15ef4a=>_0x15ef4a[_0x2ecce0(0xbc)]);document[_0x2ecce0(0xb2)](_0x3e079b)['textContent']=_0x38b069?_0x2ecce0(0xa7):'Select\x20All';}document[_0x6fef71(0xb2)](_0x6fef71(0xf6))[_0x6fef71(0xf1)](_0x6fef71(0xc3),async()=>{const _0x33015e=_0x6fef71,_0x325e02=document[_0x33015e(0xb2)]('apiKey')['value'],_0x27486f=document[_0x33015e(0xb2)]('error-api'),_0x5383b7=document[_0x33015e(0xb2)]('error-products'),_0x5aa5a1=document[_0x33015e(0xb2)](_0x33015e(0xb4));if(!_0x325e02){_0x27486f[_0x33015e(0xf3)]='API\x20Key\x20is\x20required.',_0x27486f[_0x33015e(0xe3)][_0x33015e(0x106)](_0x33015e(0xb0));return;}const _0x117a77=Array[_0x33015e(0xb3)](document[_0x33015e(0xc7)]('#productsList\x20input[type=\x22checkbox\x22]:checked'))['map'](_0x437fe7=>_0x437fe7[_0x33015e(0xc2)]);_0x5383b7[_0x33015e(0xe3)]['add'](_0x33015e(0xb0));if(_0x117a77[_0x33015e(0xbf)]===0x0){_0x5383b7['textContent']='At\x20least\x20one\x20product\x20must\x20be\x20selected.',_0x5383b7[_0x33015e(0xe3)]['remove']('hidden');return;}const _0x4b55a0=document[_0x33015e(0xb2)](_0x33015e(0xfe)),_0x32eee1=document[_0x33015e(0xb2)](_0x33015e(0xf0)),_0x286dac=document[_0x33015e(0xb2)](_0x33015e(0xcb)),_0xf0af2a=document[_0x33015e(0xb2)](_0x33015e(0xbb)),_0x432756=document[_0x33015e(0xb2)](_0x33015e(0xe7));_0x4b55a0[_0x33015e(0xe3)][_0x33015e(0x108)](_0x33015e(0xb0)),_0x32eee1[_0x33015e(0xe3)][_0x33015e(0x108)](_0x33015e(0xb0)),_0x286dac[_0x33015e(0xf8)]='',_0x5aa5a1[_0x33015e(0xe3)]['add'](_0x33015e(0xb0)),_0xf0af2a[_0x33015e(0xe3)]['add']('hidden'),_0xf0af2a['textContent']=_0x33015e(0xb8),_0x432756[_0x33015e(0xe3)][_0x33015e(0x108)]('hidden');try{_0x4b55a0[_0x33015e(0xe3)][_0x33015e(0x106)](_0x33015e(0xb0)),_0xf0af2a[_0x33015e(0xe3)]['remove']('hidden');const _0x12e5bc=[],_0x1f101b=await fetch(_0x33015e(0xdf),{'headers':{'Authorization':_0x33015e(0xc1)+_0x325e02}});if(!_0x1f101b['ok'])throw new Error(_0x33015e(0xcc));const _0x452192=await _0x1f101b[_0x33015e(0xe1)]();for(const _0x4bea9b of _0x452192[_0x33015e(0x103)]){const _0x26c278=_0x4bea9b[_0x33015e(0xd2)][_0x33015e(0x103)][0x0][_0x33015e(0xf2)]['product'];if(_0x117a77[_0x33015e(0xd4)](_0x26c278)){const _0x597d89=await fetch('https://api.stripe.com/v1/customers/'+_0x4bea9b[_0x33015e(0xaf)],{'headers':{'Authorization':_0x33015e(0xc1)+_0x325e02}});if(!_0x597d89['ok'])throw new Error(_0x33015e(0xc4));const _0x12dad8=await _0x597d89[_0x33015e(0xe1)](),_0x12d5f7=await fetch(_0x33015e(0xe8)+_0x4bea9b['items'][_0x33015e(0x103)][0x0][_0x33015e(0xf2)]['id'],{'headers':{'Authorization':'Bearer\x20'+_0x325e02}});if(!_0x12d5f7['ok'])throw new Error(_0x33015e(0xb9));const _0x358ce6=await _0x12d5f7[_0x33015e(0xe1)](),_0x16cf08=await fetch('https://api.stripe.com/v1/products/'+_0x26c278,{'headers':{'Authorization':_0x33015e(0xc1)+_0x325e02}});if(!_0x16cf08['ok'])throw new Error('Failed\x20to\x20fetch\x20product\x20data.');const _0x42ae09=await _0x16cf08['json']();_0x12e5bc[_0x33015e(0xa9)]({'id':_0x4bea9b['id'],'customer':_0x12dad8,'product':_0x42ae09,'price':_0x358ce6});}}_0x12e5bc[_0x33015e(0xbf)]===0x0?(_0xf0af2a[_0x33015e(0xe3)]['add']('hidden'),_0x4b55a0['classList'][_0x33015e(0x106)](_0x33015e(0xb0)),_0x5aa5a1[_0x33015e(0xf3)]=_0x33015e(0xcd),_0x5aa5a1['classList'][_0x33015e(0x106)](_0x33015e(0xb0))):(_0x12e5bc['forEach'](_0x6cd5de=>{const _0x5f520e=_0x33015e,_0x1e53bd=document['createElement']('li'),_0x1d44e5=document[_0x5f520e(0x102)](_0x5f520e(0x105)),_0x3d28d2=document[_0x5f520e(0x102)]('input');_0x3d28d2[_0x5f520e(0xc9)]=_0x5f520e(0xee),_0x3d28d2[_0x5f520e(0xc2)]=_0x6cd5de['id'],_0x1d44e5[_0x5f520e(0x101)](_0x3d28d2),_0x1d44e5[_0x5f520e(0xf8)]+=_0x5f520e(0xec)+_0x6cd5de[_0x5f520e(0xaf)]['email']+_0x5f520e(0x109)+_0x6cd5de[_0x5f520e(0xe0)][_0x5f520e(0xf7)]+_0x5f520e(0x109)+_0x6cd5de[_0x5f520e(0xf2)][_0x5f520e(0xef)]+_0x5f520e(0x109)+(_0x6cd5de[_0x5f520e(0xf2)][_0x5f520e(0xff)]/0x64)[_0x5f520e(0xd3)](0x2)+'\x20'+_0x6cd5de['price']['currency'][_0x5f520e(0xdc)](),_0x1e53bd[_0x5f520e(0x101)](_0x1d44e5),_0x286dac[_0x5f520e(0x101)](_0x1e53bd);}),_0xf0af2a['classList'][_0x33015e(0x108)](_0x33015e(0xb0)),_0x4b55a0[_0x33015e(0xe3)][_0x33015e(0x106)](_0x33015e(0xb0)),_0x32eee1[_0x33015e(0xe3)][_0x33015e(0x106)](_0x33015e(0xb0)));}catch(_0x498c2c){_0xf0af2a['classList']['add'](_0x33015e(0xb0)),console[_0x33015e(0xfc)](_0x33015e(0xfd),_0x498c2c),_0x5aa5a1[_0x33015e(0xf3)]=_0x498c2c[_0x33015e(0xc6)],_0x5aa5a1['classList'][_0x33015e(0x106)](_0x33015e(0xb0));}}),document[_0x6fef71(0xb2)]('cancelSubscriptions')[_0x6fef71(0xf1)](_0x6fef71(0xc3),async()=>{const _0x1f4767=_0x6fef71,_0x14b627=Array[_0x1f4767(0xb3)](document[_0x1f4767(0xc7)](_0x1f4767(0xe6)))[_0x1f4767(0xe2)](_0x2b16df=>_0x2b16df[_0x1f4767(0xc2)]),_0x365dd5=document[_0x1f4767(0xb2)](_0x1f4767(0xce))[_0x1f4767(0xc2)],_0x5e5209=document[_0x1f4767(0xb2)](_0x1f4767(0xe5)),_0x3f929d=document[_0x1f4767(0xb2)](_0x1f4767(0xb4)),_0xa8eeb7=document['getElementById']('success-message'),_0x4e76dc=document['getElementById'](_0x1f4767(0xbb));if(!_0x365dd5){_0x5e5209[_0x1f4767(0xf3)]=_0x1f4767(0xb1),_0x5e5209['classList']['remove'](_0x1f4767(0xb0));return;}if(_0x14b627[_0x1f4767(0xbf)]===0x0){_0x3f929d[_0x1f4767(0xf3)]=_0x1f4767(0xd9),_0x3f929d[_0x1f4767(0xe3)][_0x1f4767(0x106)](_0x1f4767(0xb0));return;}_0x3f929d[_0x1f4767(0xe3)][_0x1f4767(0x108)](_0x1f4767(0xb0)),_0xa8eeb7[_0x1f4767(0xe3)][_0x1f4767(0x108)](_0x1f4767(0xb0)),_0x4e76dc[_0x1f4767(0xe3)][_0x1f4767(0x106)](_0x1f4767(0xb0)),_0x4e76dc[_0x1f4767(0xf3)]=_0x1f4767(0xf5);try{for(const _0x2834d6 of _0x14b627){const _0x370ba0=await fetch('https://api.stripe.com/v1/subscriptions/'+_0x2834d6,{'method':_0x1f4767(0xd7),'headers':{'Authorization':_0x1f4767(0xc1)+_0x365dd5}});if(!_0x370ba0['ok'])throw new Error(_0x1f4767(0x107)+_0x2834d6);}_0xa8eeb7[_0x1f4767(0xf3)]=_0x1f4767(0xb5),_0xa8eeb7['classList'][_0x1f4767(0x106)](_0x1f4767(0xb0)),_0x4e76dc[_0x1f4767(0xe3)][_0x1f4767(0x108)](_0x1f4767(0xb0));}catch(_0x52f2f8){console[_0x1f4767(0xfc)](_0x1f4767(0x100),_0x52f2f8),_0x3f929d['textContent']=_0x52f2f8[_0x1f4767(0xc6)],_0x3f929d['classList'][_0x1f4767(0x106)]('hidden'),_0x4e76dc[_0x1f4767(0xe3)][_0x1f4767(0x108)](_0x1f4767(0xb0));}});